#!/bin/sh

if ! docker ps | grep -q zendash-php-1; then
    echo "âš ï¸  Erreur : Le conteneur zendash-php-1 n'est pas lancÃ©."
    echo "Lance 'docker compose up -d' avant de push."
    exit 1
fi

echo "ğŸš€ Analyse QA en cours..."

# ExÃ©cution des tests
docker exec zendash-php-1 composer qa

if [ $? -ne 0 ]; then
    echo "âŒ Ã‰chec de la QA. Corrige les erreurs avant de push."
    exit 1
fi

echo "âœ… QA validÃ©e. Push en cours..."
exit 0
